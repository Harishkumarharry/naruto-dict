<div class="detail-container">
  <ng-template [ngIf]="loading()"><div class="loading">Loading…</div></ng-template>
  <ng-template [ngIf]="error()"
    ><div class="error">Error: {{ error() }}</div></ng-template
  >

  <div style="margin-top: 16px">
    <a routerLink="/">← Back</a>
  </div>

  <ng-template [ngIf]="!loading() && item()">
    <div class="character-detail">
      <h2>{{ item().name || item().title || item().id }}</h2>

      <div NgIf="characters().length > 0" class="characters-section">
        <h3>Characters</h3>
        <div class="characters-grid">
          <a
            *ngFor="let char of characters()"
            [routerLink]="['/characters', char.id ?? char._id]"
            class="character-card"
          >
            <img
              NgIf="char.images?.length > 0"
              [src]="char.images[0]"
              [alt]="char.name"
              class="character-image"
            />
            <div class="character-info">
              <h4>{{ char.name || char.title }}</h4>
            </div>
          </a>
        </div>
      </div>

      <button class="scroll-top" (click)="scrollToTop()" aria-label="Scroll to top">▲</button>
    </div>
  </ng-template>
</div>
