<section class="search-section">
  <input
    aria-label="Search characters"
    class="search-input"
    placeholder="Search characters (e.g. Naruto, Sasuke)"
    (input)="search.set($any($event.target).value)"
  />
</section>

<section class="characters">
  <h2 class="section-title">Characters</h2>

  <ng-template [ngIf]="loading()"><div class="loading">Loading charactersâ€¦</div></ng-template>
  <ng-template [ngIf]="error()"
    ><div class="error">Error: {{ error() }}</div></ng-template
  >

  <ul class="cards">
    <ng-template ngFor let-c [ngForOf]="filtered()">
      <li class="card">
        <a class="card-link" [routerLink]="['/character', c.id ?? c._id ?? c.slug]">
          <h3 class="card-title">{{ c.name || c.title }}</h3>
          <p class="card-desc">{{ c.description || c.bio || c.about || c.short || '' }}</p>
          <div class="badges">
            <ng-template [ngIf]="c.village"
              ><span class="badge">{{ c.village }}</span></ng-template
            >
            <ng-template [ngIf]="c.affiliation"
              ><span class="badge">{{ c.affiliation }}</span></ng-template
            >
            <ng-template [ngIf]="c.clan"
              ><span class="badge">{{ c.clan }}</span></ng-template
            >
          </div>
        </a>
      </li>
    </ng-template>
  </ul>
</section>
